(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-5b65be18"],{"522e":function(e,t,i){},b89a7:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("el-dialog",{attrs:{title:e.title,width:e.width,visible:e.isShowVisible,center:"","close-on-click-modal":!1,"before-close":function(){return e.$emit("close")}},on:{"update:visible":function(t){e.isShowVisible=t}}},[i("el-card",[i("el-form",{ref:"equipmentData",attrs:{inline:"","label-width":"100px",model:e.equipmentData}},[i("el-row",[i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"设备名称:"}},[i("span",[e._v(e._s(e.equipmentData.equipmentName))])])],1),e._v(" "),i("el-col",{attrs:{span:12}},[i("el-form-item",{attrs:{label:"设备编码:"}},[i("span",[e._v(e._s(e.equipmentData.equipmentCode))])])],1),e._v(" "),i("el-col",{attrs:{span:24}},[i("el-form-item",{attrs:{label:"图片",prop:"image"}},[i("div",{staticClass:"image_form"},[e._l(e.fileUrl,(function(t,a){return i("div",{key:a},[i("el-image",{staticClass:"avatar",attrs:{"preview-src-list":e.fileUrl,src:t,alt:"错误"}}),e._v(" "),i("div",{staticClass:"delete_form",on:{click:function(i){return e.delet(t,a)}}},[i("i",{staticClass:"delete el-icon-delete"})])],1)})),e._v(" "),""===e.equipmentData.file?i("imgUpload",{attrs:{category:1},on:{fileUpload:e.fileUpload}}):e._e()],2)])],1)],1)],1)],1),e._v(" "),i("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{attrs:{type:"primary"},on:{click:e.saveEquipment}},[e._v("保存")]),e._v(" "),i("el-button",{on:{click:function(t){return e.$emit("close")}}},[e._v("取消")])],1)],1)},l=[],s={name:"EquipmentUploadImg",props:{width:{type:String,default:"50vw"},addEditData:{type:Object}},data:function(){return{title:" 设备上传缩略图",isShowVisible:!0,equipmentData:{file:""},equipmentList:[],fileUrl:[]}},created:function(){this.equipmentData=this.addEditData.rowData,this.equipmentData.file=""},methods:{fileUpload:function(e){var t=e.length,i=e[t-1].raw,a=new FileReader;a.readAsDataURL(i);var l=this;this.fileUrl=[],a.onload=function(){l.fileUrl.push(a.result),l.equipmentData.file=i}},delet:function(e,t){this.fileUrl.splice(t,1),this.equipmentData.file=""},saveEquipment:function(){if(!this.equipmentData.file)return this.$message.error("请选择上传图片");this.$message.success("保存成功!"),this.$emit("close")}}},n=s,o=(i("bfc3"),i("2877")),r=Object(o["a"])(n,a,l,!1,null,"34a02f42",null);t["default"]=r.exports},bfc3:function(e,t,i){"use strict";i("522e")}}]);